<!DOCTYPE HTML>
<html lang="zh-tw" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>HttpSSL | Nginx 中文官方文档</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.5">
        <meta name="author" content="wizardforcel">
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-comment/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../Text/4.9_stubstatus.html" />
    
    
    <link rel="prev" href="../Text/4.7_realip.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="4.8"
        data-chapter-title="HttpSSL"
        data-filepath="Text/4.8_ssl.md"
        data-basepath=".."
        data-revision="Mon Dec 14 2015 06:00:19 GMT+0000 (UTC)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
                
                <li>
                    <a href="https://www.gitbook.com/book/wizardforcel/nginx-doc" target="blank" class="custom-link">Nginx 中文官方文档</a>
                </li>
            
            

            
            <li class="divider"></li>
            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        介紹
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="Text/1.html">
            
                
                    <a href="../Text/1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        主要文档
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="Text/1.1_overview.html">
            
                
                    <a href="../Text/1.1_overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Nginx功能概述
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Text/1.2_nginxchswhyuseit.html">
            
                
                    <a href="../Text/1.2_nginxchswhyuseit.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        为什么选择Nginx
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Text/1.3_install.html">
            
                
                    <a href="../Text/1.3_install.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Nginx安装
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Text/1.4_nginxchscommandline.html">
            
                
                    <a href="../Text/1.4_nginxchscommandline.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        运行和控制Nginx
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="Text/1.5_notation.html">
            
                
                    <a href="../Text/1.5_notation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                        配置符号参考
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="Text/1.6_optimizations.html">
            
                
                    <a href="../Text/1.6_optimizations.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.6.</b>
                        
                        优化 Nginx
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Text/1.7_faq.html">
            
                
                    <a href="../Text/1.7_faq.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.7.</b>
                        
                        常见问题(FAQ)
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Text/1.8_debug.html">
            
                
                    <a href="../Text/1.8_debug.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.8.</b>
                        
                        调试 nginx
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Text/2.html">
            
                
                    <a href="../Text/2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        核心模块
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="Text/2.1_mainmodule.html">
            
                
                    <a href="../Text/2.1_mainmodule.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Nginx主模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Text/2.2_events.html">
            
                
                    <a href="../Text/2.2_events.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Nginx事件模块
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="Text/3.html">
            
                
                    <a href="../Text/3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        基本模块
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="Text/3.1_httpcore.html">
            
                
                    <a href="../Text/3.1_httpcore.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        http核心模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Text/3.2_httpupstream.html">
            
                
                    <a href="../Text/3.2_httpupstream.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        HttpIndex模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="Text/3.3_httpaccess.html">
            
                
                    <a href="../Text/3.3_httpaccess.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        HttpAccess模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="Text/3.4_httpauthbasic.html">
            
                
                    <a href="../Text/3.4_httpauthbasic.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        HttpAuthBasic模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="Text/3.5_httpautoindex.html">
            
                
                    <a href="../Text/3.5_httpautoindex.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        HttpAutoindex模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="Text/3.6_browser.html">
            
                
                    <a href="../Text/3.6_browser.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Browser模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="Text/3.7_charset.html">
            
                
                    <a href="../Text/3.7_charset.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        Charset模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="Text/3.8_httpemptygif.html">
            
                
                    <a href="../Text/3.8_httpemptygif.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        HttpEmptyGif模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="Text/3.9_httpfcgi.html">
            
                
                    <a href="../Text/3.9_httpfcgi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.9.</b>
                        
                        HttpFcgi模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.10" data-path="Text/3.10_geo.html">
            
                
                    <a href="../Text/3.10_geo.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.10.</b>
                        
                        Geo模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.11" data-path="Text/3.11_httpgzip.html">
            
                
                    <a href="../Text/3.11_httpgzip.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.11.</b>
                        
                        HttpGzip模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.12" data-path="Text/3.12_httpheaders.html">
            
                
                    <a href="../Text/3.12_httpheaders.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.12.</b>
                        
                        HttpHeaders模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.13" data-path="Text/3.13_httpindex.html">
            
                
                    <a href="../Text/3.13_httpindex.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.13.</b>
                        
                        HttpIndex模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.14" data-path="Text/3.14_httpreferer.html">
            
                
                    <a href="../Text/3.14_httpreferer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.14.</b>
                        
                        HttpReferer模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.15" data-path="Text/3.15_httplimitzone.html">
            
                
                    <a href="../Text/3.15_httplimitzone.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.15.</b>
                        
                        HttpLimit zone
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.16" data-path="Text/3.16_httplimitrequest.html">
            
                
                    <a href="../Text/3.16_httplimitrequest.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.16.</b>
                        
                        HttpLimitReqest模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.17" data-path="Text/3.17_httplog.html">
            
                
                    <a href="../Text/3.17_httplog.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.17.</b>
                        
                        HttpLog模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.18" data-path="Text/3.18_map.html">
            
                
                    <a href="../Text/3.18_map.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.18.</b>
                        
                        map
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.19" data-path="Text/3.19_memcached.html">
            
                
                    <a href="../Text/3.19_memcached.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.19.</b>
                        
                        Memcached
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.20" data-path="Text/3.20_httpproxy.html">
            
                
                    <a href="../Text/3.20_httpproxy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.20.</b>
                        
                        HttpProxy模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.21" data-path="Text/3.21_rewrite.html">
            
                
                    <a href="../Text/3.21_rewrite.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.21.</b>
                        
                        HttpRewrite模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.22" data-path="Text/3.22_httpssi.html">
            
                
                    <a href="../Text/3.22_httpssi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.22.</b>
                        
                        HttpSSI模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.23" data-path="Text/3.23_userid.html">
            
                
                    <a href="../Text/3.23_userid.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.23.</b>
                        
                        HttpUserId
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="Text/4.html">
            
                
                    <a href="../Text/4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        其他模块
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="Text/4.1_addition.html">
            
                
                    <a href="../Text/4.1_addition.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Addition模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="Text/4.2_embeddedperl.html">
            
                
                    <a href="../Text/4.2_embeddedperl.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        EmbeddedPerl
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="Text/4.3_flv.html">
            
                
                    <a href="../Text/4.3_flv.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        flv
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="Text/4.4_gzipstatic.html">
            
                
                    <a href="../Text/4.4_gzipstatic.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        HttpGzipStatic
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="Text/4.5_randomindex.html">
            
                
                    <a href="../Text/4.5_randomindex.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        RandomIndex
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="Text/4.6_geoip.html">
            
                
                    <a href="../Text/4.6_geoip.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        HttpGeoIP
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="Text/4.7_realip.html">
            
                
                    <a href="../Text/4.7_realip.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        HttpRealIp
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="4.8" data-path="Text/4.8_ssl.html">
            
                
                    <a href="../Text/4.8_ssl.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                        HttpSSL
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="Text/4.9_stubstatus.html">
            
                
                    <a href="../Text/4.9_stubstatus.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.</b>
                        
                        StubStatus模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="Text/4.10_sub.html">
            
                
                    <a href="../Text/4.10_sub.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.10.</b>
                        
                        HttpSubstitution
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.11" data-path="Text/4.11_httpdav.html">
            
                
                    <a href="../Text/4.11_httpdav.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.11.</b>
                        
                        HttpDav模块
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.12" data-path="Text/4.12_googleperftools.html">
            
                
                    <a href="../Text/4.12_googleperftools.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.12.</b>
                        
                        GooglePerftools
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.13" data-path="Text/4.13_xslt.html">
            
                
                    <a href="../Text/4.13_xslt.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.13.</b>
                        
                        HttpXSLT
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.14" data-path="Text/4.14_securelink.html">
            
                
                    <a href="../Text/4.14_securelink.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.14.</b>
                        
                        HttpSecureLink
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.15" data-path="Text/4.15_imagefilter.html">
            
                
                    <a href="../Text/4.15_imagefilter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.15.</b>
                        
                        HttpImageFilter
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="Text/5.html">
            
                
                    <a href="../Text/5.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        mail模块
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="Text/5.1_mailcore.html">
            
                
                    <a href="../Text/5.1_mailcore.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        MailCore
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="Text/5.2_mailauth.html">
            
                
                    <a href="../Text/5.2_mailauth.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        MailAuth
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="Text/5.3_mailproxy.html">
            
                
                    <a href="../Text/5.3_mailproxy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        MailProxy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="Text/5.4_mailssl.html">
            
                
                    <a href="../Text/5.4_mailssl.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        MailSSL
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="Text/6.html">
            
                
                    <a href="../Text/6.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        安装
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="Text/6.1_nginx_windows.html">
            
                
                    <a href="../Text/6.1_nginx_windows.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        nginx在windows上的安装
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="Text/6.2_nginx_freebsd.html">
            
                
                    <a href="../Text/6.2_nginx_freebsd.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        nginx在freebsd上的安装
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="Text/6.3_nginx_ubuntu.html">
            
                
                    <a href="../Text/6.3_nginx_ubuntu.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        nginx在ubuntu上的安装
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="Text/6.4_nginx_fedora.html">
            
                
                    <a href="../Text/6.4_nginx_fedora.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.4.</b>
                        
                        nginx在fedora上的安装
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="Text/6.5_nginx_php_fpm.html">
            
                
                    <a href="../Text/6.5_nginx_php_fpm.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        nginx php-fpm安装配置
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="Text/7.html">
            
                
                    <a href="../Text/7.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        配置示例和方法
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="Text/7.1_fullexample.html">
            
                
                    <a href="../Text/7.1_fullexample.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        完整例子
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="Text/7.2_fullexample2.html">
            
                
                    <a href="../Text/7.2_fullexample2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        完整例子2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="Text/7.3_virtualhost.html">
            
                
                    <a href="../Text/7.3_virtualhost.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        虚拟主机
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="Text/7.4_loadbalance.html">
            
                
                    <a href="../Text/7.4_loadbalance.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        负载均衡
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="Text/7.5_doorchain.html">
            
                
                    <a href="../Text/7.5_doorchain.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.</b>
                        
                        nginx防盗链
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="Text/7.6_checkerrors.html">
            
                
                    <a href="../Text/7.6_checkerrors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.</b>
                        
                        HWLoadbalancerCheckErrors
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    本書使用 GitBook 釋出
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Nginx 中文官方文档</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h3 id="httpssl">HttpSSL</h3>
<p>This module enables HTTPS support.</p>
<p>It supports checking client certificates with two limitations:</p>
<ul>
<li>it is not possible to assign the list of the abolished certificates (revocation lists)</li>
<li>if you have a chain certificate file (sometimes called an intermediate certificate) you don&apos;t specify it separately like you do in Apache. Instead you need to add the information from the chain cert to the end of your main certificate file. This can be done by typing &quot;cat chain.crt &gt;&gt; mysite.com.crt&quot; on the command line. Once that is done you won&apos;t use the chain cert file for anything else, you just point Nginx to the main certificate file.</li>
</ul>
<p>By default the module is not built, it is necessary to specify that it be built with with the <em>--with-http_ssl_module</em> parameter to ./configure. Building this module requires the OpenSSL libraries and include-files, often are the necessary files in separate packages.</p>
<p>The following is an example configuration, to reduce the CPU load it is recommended to run one worker process only and to enable keep-alive connections:</p>
<pre><code>worker_processes 1;
http {

  server {
    listen               443;
    ssl                  on;
    ssl_certificate      /usr/local/nginx/conf/cert.pem;
    ssl_certificate_key  /usr/local/nginx/conf/cert.key;
    keepalive_timeout    70;
  }

}
</code></pre><p>When using chain certificates, just append the extra certificates into your .crt file (cert.pem in the example). Your own certificate needs to be on top of the file, otherwise key get a mismatch with the key.</p>
<h3 id="generate-certificates">Generate Certificates</h3>
<p>To generate dummy certficates you can do this steps:</p>
<pre><code>$ cd /usr/local/nginx/conf
$ openssl genrsa -des3 -out server.key 1024
$ openssl req -new -key server.key -out server.csr
$ cp server.key server.key.org
$ openssl rsa -in server.key.org -out server.key
$ openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt
</code></pre><p>Configure the new certificate into nginx.conf:</p>
<pre><code>server {

    server_name YOUR_DOMAINNAME_HERE;
    listen 443;
    ssl on;
    ssl_certificate /usr/local/nginx/conf/server.crt;
    ssl_certificate_key /usr/local/nginx/conf/server.key;

}
</code></pre><p>Restart Nginx.</p>
<p>Now all ready to access using:</p>
<pre><code>https://YOUR_DOMAINNAME_HERE
</code></pre><h3 id="&#x93B8;&#x56E6;&#x62A4;">&#x93B8;&#x56E6;&#x62A4;</h3>
<h3 id="ssl">ssl</h3>
<p><strong>syntax:*</strong>ssl [on|off]*</p>
<p><strong>default:*</strong>ssl off*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Enables HTTPS for a server.</p>
<h3 id="sslcertificate">ssl_certificate</h3>
<p><strong>syntax:*</strong>ssl_certificate file*</p>
<p><strong>default:*</strong>ssl_certificate cert.pem*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Indicates file with the certificate in PEM format for this virtual server. The same file can contain other certificates, and also secret key in PEM format. Since version 0.6.7 the file path is relative to directory of nginx configuration file nginx.conf, but not to nginx prefix directory.</p>
<h3 id="sslcertificatekey">ssl_certificate_key</h3>
<p><strong>syntax:*</strong>ssl_certificate_key file*</p>
<p><strong>default:*</strong>ssl_certificate_key cert.pem*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Indicates file with the secret key in PEM format for this virtual server. Since version 0.6.7 the filename path is relative to directory of nginx configuration file nginx.conf, but not to nginx prefix directory.</p>
<h3 id="sslclientcertificate">ssl_client_certificate</h3>
<p><strong>syntax:*</strong>ssl_client_certificate file*</p>
<p><strong>default:*</strong>none*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Indicates file with certificates CA in PEM format, utilized for checking the client certificates.</p>
<h3 id="ssldhparam">ssl_dhparam</h3>
<p><strong>syntax:*</strong>ssl_dhparam file*</p>
<p><strong>default:*</strong>none*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Indicates file with Diffie-Hellman parameters in PEM format, utilized for negotiating TLS session keys.</p>
<h3 id="sslciphers">ssl_ciphers</h3>
<p><strong>syntax:*</strong>ssl_ciphers file*</p>
<p><strong>default:*</strong>ssl_ciphers ALL:!ADH:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Directive describes the permitted ciphers. Ciphers are assigned in the formats supported by OpenSSL, for example:</p>
<pre><code>ssl_ciphersALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;
</code></pre><p>Complete list can be looked with the following command:</p>
<pre><code>
openssl ciphers
</code></pre><h3 id="sslcrl">ssl_crl</h3>
<p><strong>syntax:*</strong>ssl_crl file*</p>
<p><strong>default:*</strong>none*</p>
<p><strong>context:*</strong>http, server*</p>
<p>This directive (0.8.7+) specifies a file with the revoked certificates (CRL) in the PEM, which is used to check for client certificates.</p>
<h3 id="sslpreferserverciphers">ssl_prefer_server_ciphers</h3>
<p><strong>syntax:*</strong>ssl_prefer_server_ciphers [on|off]*</p>
<p><strong>default:*</strong>ssl_prefer_server_ciphers off*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Requires protocols SSLv3 and TLSv1 server ciphers be preferred over the client&apos;s ciphers.</p>
<h3 id="sslprotocols">ssl_protocols</h3>
<p><strong>syntax:*</strong>ssl_protocols [SSLv2] [SSLv3] [TLSv1]*</p>
<p><strong>default:*</strong>ssl_protocols SSLv2 SSLv3 TLSv1*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Directive enables the protocols indicated.</p>
<h3 id="sslverifyclient">ssl_verify_client</h3>
<p><strong>syntax:*</strong>ssl_verify_client on|off|ask*</p>
<p><strong>default:*</strong>ssl_verify_client off*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Directive enables verifying client certificates. Parameter &apos;ask&apos; checks a client certificate if it was offered.</p>
<h3 id="sslverifydepth">ssl_verify_depth</h3>
<p><strong>syntax:*</strong>ssl_verify_depth number*</p>
<p><strong>default:*</strong>ssl_verify_depth 1*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Sets depth checking in the chain of client certificates.</p>
<h3 id="sslsessioncache">ssl_session_cache</h3>
<p><strong>syntax:*</strong>ssl_session_cache off|none|builtin:size and/or shared:name:size*</p>
<p><strong>default:*</strong>ssl_session_cache off*</p>
<p><strong>context:*</strong>main, server*</p>
<p>The directive sets the types and sizes of caches to store the SSL sessions.<br> The cache types are:</p>
<ul>
<li>off -- Hard off: nginx says explicitly to a client that sessions can not reused.</li>
<li>none -- Soft off: nginx says to a client that session can be resued, but nginx actually never reuses them. This is workaround for some mail clients as ssl_session_cache may be used in mail proxy as well as in HTTP server.</li>
<li>builtin -- the OpenSSL builtin cache, is used inside one worker process only. The cache size is assigned in the number of the sessions. Note: there appears to be a memory fragmentation issue using this method, please take that into consideration when using this. See &quot;References&quot; below.</li>
<li>shared -- the cache is shared between all worker processes. The size of cache is assigned in the bytes, 1 MB cache can contain about 4000 sessions. Each shared cache must have arbitrary name. Cache with the same name can be used in several virtual servers.</li>
</ul>
<p>It is possible to use both types of cache simultaneously, for example:</p>
<pre><code>  ssl_session_cache  builtin:1000  shared:SSL:10m;
</code></pre><p>However, the only shared cache usage without that builtin should be more effective.</p>
<h3 id="sslsessiontimeout">ssl_session_timeout</h3>
<p><strong>syntax:*</strong>ssl_session_timeout time*</p>
<p><strong>default:*</strong>ssl_session_timeout 5m*</p>
<p><strong>context:*</strong>main, server*</p>
<p>Assigns the time during which the client can repeatedly use the parameters of the session, which is stored in the cache.</p>
<p>This module supports several nonstandard error codes which can be used for debugging with the aid of directive error_page:</p>
<ul>
<li>495 - error checking client certificate</li>
<li>496 - client did not grant the required certificate</li>
<li>497 - normal request was sent to HTTPS</li>
</ul>
<p>Debugging is done after the request is completely dismantled and are accessible via variables such as $request_uri, $uri, $arg and others. Built-in variables Module ngx_http_ssl_module supports several built-in variables:</p>
<ul>
<li>$ssl_cipher returns the line of those utilized it is cipher for established SSL-connection</li>
<li>$ssl_client_serial returns the series number of client certificate for established SSL-connection</li>
<li>$ssl_client_s_dn returns line subject DN of client certificate for established SSL-connection</li>
<li>$ssl_client_i_dn returns line issuer DN of client certificate for established SSL-connection</li>
<li>$ssl_protocol returns the protocol of established SSL-connection</li>
</ul>
<h3 id="sslengine">ssl_engine</h3>
<p><strong>syntax:*</strong>ssl_engine*</p>
<p>This allows specifying the OpenSSL engine to use, like Padlock for example. It requires a more recent version of OpenSSL.</p>
<h3 id="references">References</h3>
<p><a href="http://sysoev.ru/nginx/docs/http/ngx_http_ssl_module.html" title="http://sysoev.ru/nginx/docs/http/ngx_http_ssl_module.html" target="_blank">Original Documentation</a><a href="http://marc.info/?t=120127289900027" title="http://marc.info/?t=120127289900027" target="_blank">SSL Memory Fragmentation and new default status for ssl_session_cache</a></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../Text/4.7_realip.html" class="navigation navigation-prev " aria-label="Previous page: HttpRealIp"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../Text/4.9_stubstatus.html" class="navigation navigation-next " aria-label="Next page: StubStatus模块"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-comment/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"comment":{"highlightCommented":true},"autocover":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
